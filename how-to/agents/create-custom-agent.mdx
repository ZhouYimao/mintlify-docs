---
title: "How to Create a Custom Agent"
description: "Build an agent that solves your specific business problem"
sidebarTitle: "Create Custom Agent"
---

Last week, a SaaS founder created a custom agent that qualifies leads while he sleeps. It books 3x more demos than their previous process. Here's exactly how to build your own.

## Before You Start

**Time needed**: 30-45 minutes  
**Skill level**: If you can describe your process to a human, you can build this agent

### What you need:
- Cagen account (free trial works)
- One repetitive task that's eating your time
- Examples of how you currently handle that task

## Real Example: Lead Qualification Agent

Let's build something real. We'll create an agent that:
- Reads incoming leads from your CRM
- Scores them based on your criteria
- Drafts personalized follow-ups
- Books calls with hot leads

### Step 1: Start with Your Biggest Time-Waster

Go to **Team > Agents** and click **Create Agent**.

<Tip>
Most successful agents solve a problem you face daily. Think: "What did I do 10+ times this week?"
</Tip>

### Step 2: Pick Your Path

<Tabs>
  <Tab title="Use a Template (Recommended)">
    **Lead Qualifier Template** includes:
    - Pre-built scoring system
    - Email templates that convert
    - CRM integration setup
    
    **Success rate**: 89% of users get results in week 1
  </Tab>
  
  <Tab title="Start Fresh">
    Build exactly what you need when templates don't fit.
    
    **Example**: A law firm built a contract reviewer that catches issues their template couldn't handle.
  </Tab>
  
  <Tab title="Copy & Modify">
    Already have a support agent? Clone it and teach it sales.
    
    **Pro tip**: This is how most users build agent #3 and beyond.
  </Tab>
</Tabs>

### Step 3: Name It Something Obvious

Don't overthink this:

```yaml
Good names:
  - "Lead Scorer"
  - "Demo Booker"
  - "Customer Success Bot"
  
Bad names:
  - "Agent 1"
  - "Test"
  - "AI Assistant"
```

<Warning>
In 2 weeks you'll have 5+ agents. Make names self-explanatory or you'll waste time figuring out which does what.
</Warning>

### Step 4: Tell It What It Can Touch

For our lead qualification agent:

```yaml
What it can read:
  - CRM contacts and companies
  - Email history
  - Your pricing page
  - Competitor info (public)

What it can write:
  - Lead scores in CRM
  - Draft emails (not send!)
  - Internal notes
  - Slack notifications

What it can do:
  - Calculate lead scores
  - Generate follow-up sequences
  - Schedule tasks
  - Alert sales team
```

<Info>
Start with minimal permissions. You can always add more. It's harder to take away.
</Info>

### 5. Set Up Memory Access

Configure what information the Agent can access:

<Steps>
  <Step>
    **Define Memory Scope**
    ```yaml
    memory_access:
      team_documents: true
      user_specific: false
      external_sources:
        - industry_reports
        - competitor_websites
    ```
  </Step>
  
  <Step>
    **Set Retention Policy**
    ```yaml
    retention:
      conversation_history: 30_days
      generated_content: permanent
      temporary_data: 7_days
    ```
  </Step>
</Steps>

### 6. Configure Model and Performance

Choose the AI model and performance settings:

```yaml
Model Configuration:
  model: "gpt-4-turbo"  # or "claude-3-opus", "gemini-pro"
  
  performance:
    response_time: "balanced"  # fast, balanced, or thorough
    creativity: 0.7  # 0.0 to 1.0
    consistency: 0.9  # 0.0 to 1.0
    
  resource_limits:
    max_tokens_per_request: 4000
    max_requests_per_hour: 100
    max_memory_usage: "1GB"
```

### Step 5: Write Instructions Like Training a New Hire

Here's what actually works:

```markdown
## Your Job

You qualify leads for our B2B SaaS product ($500-5000/mo plans).

## How to Score Leads

High Intent (80-100 points):
- Company size: 50-500 employees
- Asked about pricing or demos
- Mentioned specific pain points we solve
- Decision maker title (VP, Director, C-level)

Medium Intent (50-79 points):
- Company size: 10-49 or 500+ employees  
- General interest questions
- Individual contributor asking
- Longer sales cycle industries

Low Intent (0-49 points):
- Company size: <10 employees
- Just "exploring options"
- Student or job seeker
- Competitor fishing for info

## What to Do

- Score 80+: Alert sales team immediately + draft warm follow-up
- Score 50-79: Add to nurture sequence + weekly check-in
- Score <50: Send helpful resources + check back in 3 months
```

<Tip>
Include real examples from your business. The agent learns from specifics, not generalizations.
</Tip>

### Step 6: Test with Real Scenarios

Don't use fake data. Test with actual examples:

<Steps>
  <Step title="Throw it a softball">
    Test with an obvious good lead:
    ```
    "Hi, we're a 200-person SaaS company. Current solution 
    costs us $50k/year and missing key features. Can we 
    see a demo this week?"
    ```
    
    Agent should score 95+ and draft eager response.
  </Step>
  
  <Step title="Try an edge case">
    Test with something tricky:
    ```
    "We're a startup (team of 8) but just raised $10M. 
    Planning to hire 50 people this year. What's pricing?"
    ```
    
    Agent should recognize growth potential despite small size.
  </Step>
  
  <Step title="Test a tire kicker">
    ```
    "Just doing research for a blog post. Can you share 
    your features list?"
    ```
    
    Agent should score low but still be helpful.
  </Step>
</Steps>

<Warning>
If the agent fails these tests, it'll fail in production. Fix now, not later.
</Warning>

### 9. Set Up Monitoring

Configure how to track Agent performance:

```yaml
Monitoring:
  metrics:
    - task_completion_rate
    - average_response_time
    - user_satisfaction_score
    - resource_utilization
    
  alerts:
    - type: "performance_degradation"
      threshold: "20% below baseline"
      notify: "admin@company.com"
      
    - type: "error_rate"
      threshold: "> 5%"
      notify: "team_slack_channel"
```

### 10. Deploy and Iterate

<Steps>
  <Step>
    Click **Save and Deploy** to activate your Agent
  </Step>
  
  <Step>
    Monitor initial performance closely
  </Step>
  
  <Step>
    Gather feedback from users
  </Step>
  
  <Step>
    Iterate based on real-world usage
  </Step>
</Steps>

## What Successful Users Do Differently

<AccordionGroup>
  <Accordion title="They start with one clear task">
    **Wrong**: "Handle all sales and marketing"
    **Right**: "Score leads from contact form"
    
    You can always expand later. Focused agents work better.
  </Accordion>
  
  <Accordion title="They feed it real examples">
    Upload 20 of your best sales emails. Show it actual conversations that led to closed deals. Real data beats instructions every time.
  </Accordion>
  
  <Accordion title="They iterate based on misses">
    Week 1: Agent scores a good lead as "low"
    Action: Add that scenario to instructions
    Week 2: Agent catches similar leads correctly
    
    Every mistake is a teaching opportunity.
  </Accordion>
  
  <Accordion title="They measure what matters">
    Track:
    - Leads scored per week
    - Score accuracy (manually check 10%)
    - Demos booked from agent leads
    - Time saved (honestly)
    
    One user discovered their agent saved 12 hours/week. That's $50k/year at their hourly rate.
  </Accordion>
</AccordionGroup>

## Common Pitfalls to Avoid

- **Over-permissioning**: Only grant necessary access
- **Vague instructions**: Be specific about expected behaviors
- **Ignoring feedback**: User complaints often reveal improvement opportunities
- **Set and forget**: Agents need maintenance and optimization

## Advanced Configurations

### Multi-Model Strategy

For complex Agents, use different models for different tasks:

```yaml
multi_model:
  research_tasks: "gpt-4-turbo"
  summarization: "claude-3-haiku"
  data_analysis: "gemini-pro"
```

### Conditional Behaviors

Create Agents that adapt based on context:

```yaml
conditional_logic:
  - if: "urgent_request"
    then: 
      model: "gpt-4-turbo"
      response_time: "fast"
      
  - if: "detailed_analysis"
    then:
      model: "claude-3-opus"
      response_time: "thorough"
```

## Your Next 48 Hours

**Day 1**: Get your agent scoring leads (even if imperfectly)  
**Day 2**: Connect it to your CRM  
**Week 1**: Fine-tune based on real results  
**Week 2**: Add agent #2 to handle follow-ups  

## Common Week 1 Problems (and Fixes)

**"It's scoring everyone too high"**  
Tighten your criteria. Better to miss a few than flood sales with junk.

**"It's too formal/robotic"**  
Upload 10 of YOUR actual emails. It'll match your voice.

**"It's not catching obvious good leads"**  
You probably made instructions too complex. Simplify.

**"I don't know if it's working"**  
Manually check 10 scores. Are 8+ correct? You're good.

<Card 
  title="See how others built their agents" 
  icon="users"
  href="/tutorials/use-cases/agent-gallery"
>
  Real examples from sales, support, marketing, and ops teams
</Card>

<Note>
**30 days from now**: You'll wonder how you ever worked without this. But only if you start today.
</Note>